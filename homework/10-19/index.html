<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>D3 Homework</title>
        <script src="https://d3js.org/d3.v4.min.js"></script>
    </head>

    <center>
    
    <body>

    <h1 style="font-family: Arial; font-size: 36px; font-style: normal; font-weight: bold; id=title;">Countries with most Miss Universe</h1>
    <h2 style="font-family: Arial; font-size: 18px; font-style: normal; font-weight: lighter; id=subtitle;">South Africa and Sweden are tied in the 4th place</h2>

    <svg id="rect-viz" width="200px" height="200px" fill="pink">
        
    </svg>
    <br />
    <button onclick="drawRects(data1)">United States</button>
    <button onclick="drawRects(data2)">Venezuela</button>
    <button onclick="drawRects(data2)">Puerto Rico</button>

    <script>
            
    var data1 = [
        {
            country: "United States",
            value: 8

        },
        {
            country: "Venezuela",
            value: 7
        }
    ];

    var data2 = [
        {
            country: "Venezuela",
            value: 7
        },
        {
            country:"Puerto Rico",
            value: 5
        }
    ];

    var data3 = [
        {
            country: "Puerto Rico",
            value: 5
        },
        {
            country:"United States",
            value: 8
        }
    ];

    function drawRects(dataArray) {

        function rectPosition(){
            return 100 + 50;
        }

    var rects = d3.select("#rect-viz").selectAll("rect")
        .data(dataArray, function(d) {
            return d.country;
        });

    // Entering Circles

        rects.enter().append("rect")
        .attr("fill", function(d) {
            if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }
            if (d.country == "United States") {
                return "gray";
            }
            else if (d.country == "Puerto Rico") {
                return "gold";
            }
            else if (d.country = "Venezuela") {
                return "black";
            }
        }).attr("id", function(d) {
        return d.country;
        })
        .attr("x", "200")
        .attr("y", function(d) { 
            return d.value;
        })
        .attr("width", "200")
        .attr("height", "200")
        .transition().duration(1000)
        .attr("x", "25");

        rects
        .transition().duration(1000)
        .attr("y", rectPosition)
        .attr("x", rectPosition);

        rects.exit()
        .transition().duration(1000)
        .attr("width", "0")
        .remove();


        // Updating Circles
        circles
            .transition().duration(1000)
            .attr("cx", rectsPosition);

        // Exiting Circles
        circles.exit()
            .transition().duration(1000)
            .attr("r", "0")
            .remove();

    }

    </script>

    </center>

    </body>

    </html>